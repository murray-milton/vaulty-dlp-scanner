/* =========================================
   Vaulty Streamlit â€” Global Styles
   Maintains the polished light UI look
   ========================================= */

/* -------------------------------------------------------
   1. Mobile-specific adjustments (The "Golden Rules")
   ------------------------------------------------------- */
@media (max-width: 640px) {
    /* Reduce the massive top padding Streamlit adds */
    .block-container {
        padding-top: 2rem !important;
        padding-left: 1rem !important;
        padding-right: 1rem !important;
    }
    
    /* Make the title smaller on mobile so it doesn't wrap awkwardly */
    .vaulty-title {
        font-size: 1.8rem !important;
    }
    
    /* Hide the "Deploy" or hamburger menu footer if desired */
    footer {
        display: none !important;
    }
    
    /* Ensure charts don't overflow */
    canvas {
        max-width: 100% !important;
    }
}

/* -------------------------------------------------------
   2. App Chrome & Global Theme overrides
   ------------------------------------------------------- */
/* Force Light Mode Backgrounds */
[data-testid="stAppViewContainer"] { background: #ffffff !important; }
[data-testid="stHeader"] { background: transparent !important; }
[data-testid="stSidebar"] { background-color: #f8f9fa !important; border-right: 1px solid rgba(0,0,0,0.05); }

/* Title + subnav */
.vaulty-title {
  font-size: 42px;
  font-weight: 800;
  letter-spacing: .1px;
  margin-top: 1rem !important;
  margin-bottom: .25rem !important;
  text-align: center; /* Added to align with logo */
  color: #111827;
}

.vaulty-subnav {
  color:#1f4fbc !important;
  font-size:20px;
  font-weight:700;
  margin-bottom: 1.5rem !important;
  text-align: center; /* Added to align with logo */
}
.vaulty-subnav a { color:#1f4fbc !important; text-decoration:none; }

/* -------------------------------------------------------
   3. Component Styling
   ------------------------------------------------------- */

/* Card around the uploader */
.vaulty-card {
  background: #ffffff !important;
  border: 1px solid rgba(0,0,0,.08) !important;
  border-radius: 16px !important;
  padding: 32px 26px !important;
  box-shadow: 0 2px 10px rgba(0,0,0,.03) !important;
  max-width: 600px;
  margin: 0 auto;
}
.vaulty-card .uicon { text-align:center; font-size: 50px; opacity: .75; margin-bottom: 8px; }
.vaulty-card .uhelp { text-align:center; margin-top: .5rem; color:#111827; opacity:.9; font-size: 16px; }

/* Ensure Streamlit dropzone is light */
div[data-testid="stFileUploadDropzone"] {
  background: #ffffff !important;
  border: 1px solid rgba(0,0,0,.08) !important;
  border-radius: 14px !important;
  box-shadow: 0 2px 10px rgba(0,0,0,.03) !important;
}
div[data-testid="stFileUploadDropzone"] * { color: #111827 !important; }

/* Expanders (Scan Options) */
div[data-testid="stExpander"] {
    border: 1px solid rgba(0,0,0,.08) !important;
    border-radius: 8px !important;
    background-color: #ffffff !important;
}

/* Button polish */
.stButton > button:hover { opacity: 0.92; transform: translateY(-1px); transition: all 0.12s ease-in-out; }
.stButton > button:active { transform: translateY(0); opacity: .88; }

button[kind="primary"] {
  background-color: #2563eb !important;
  color: #fff !important;
  border-radius: 6px !important;
  font-weight: 600 !important;
  border: none !important;
}

button[kind="secondary"], div.stButton button {
  border-radius: 6px !important;
  font-weight: 500 !important;
  border: 1px solid rgba(0,0,0,0.1) !important;
}

/* Accessible focus ring */
:where(button, [role="button"], input, select, textarea):focus-visible {
  outline: 3px solid #1f4fbc !important;
  outline-offset: 2px !important;
  box-shadow: none !important;
}

/* -------------------------------------------------------
   4. Findings & Results Styling
   ------------------------------------------------------- */

/* Findings Summary card */
.findings-wrap {
  border:1px solid rgba(0,0,0,.08);
  border-radius:12px;
  overflow:hidden;
  background:#fff;
  max-width: 600px;
  margin: 0 auto;
}
.frow { display:grid; grid-template-columns: 1fr 64px; align-items:center; padding: 10px 14px; }
.frow + .frow { border-top:1px solid rgba(0,0,0,.08); }
.badge { display:flex; align-items:center; gap:10px; font-weight:600; }
.count { text-align:right; font-weight:700; color:#111827; }

/* Colored mini-badges (For Findings) */
.pill {
  width:18px; height:18px; display:inline-grid; place-items:center;
  border-radius:6px; color:#fff; font-size:12px; line-height:1;
}
.pill.email { background:#10b981; } /* green */
.pill.ssn   { background:#2563eb; } /* blue  */
.pill.card  { background:#ef4444; } /* red   */

/* Status line + download button */
.status-ok {
  display:flex; align-items:center; gap:10px; margin:14px auto; color:#111827; max-width: 600px;
}
.checkbox {
  width:18px; height:18px; border-radius:4px; background:#10b981; display:inline-block; position:relative;
}
.checkbox:after {
  content:""; position:absolute; left:5px; top:2px; width:5px; height:9px;
  border:solid #fff; border-width:0 2px 2px 0; transform:rotate(45deg);
}

/* Download Button Polish */
.stDownloadButton button {
  background:#fff !important; color:#111827 !important;
  border:1px solid rgba(0,0,0,.15) !important; border-radius:10px !important;
  box-shadow:none !important; padding:8px 14px !important;
  width: 100%;
}
.stDownloadButton button:hover {
    background-color: #f9fafb !important;
    border-color: #2563eb !important;
    color: #2563eb !important;
}

/* -------------------------------------------------------
   5. Utility & Code
   ------------------------------------------------------- */
pre, code { font-size: 0.95rem !important; }

/* Metrics adjustments */
[data-testid="stMetricValue"] {
    font-size: 28px !important;
    color: #111827 !important;
}
[data-testid="stMetricLabel"] {
    color: #6b7280 !important;
}